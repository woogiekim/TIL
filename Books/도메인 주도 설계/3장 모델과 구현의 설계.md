# 모델과 구현의 설계

- 모델에 있는 객체는 보통 서너 개의 다른 객체와 복잡한 연관관계를 맺고 있었고,
- 이러한 거미줄 같은 관계에는 각 객체를 자연스럽게 구분 짓는 경계가 거의 없었다.

> 모델링 한 객체들의 관계는 언제나 복잡합고 각 객체를 자연스럽게 구분 짓는 경계가 필요하다.

- 다이어그램은 벽 크기만큼이나 압도적이어서 이 모델에는 분명 상당한 지식이 포함돼 있었다.

> 다이어그램에도 상당한 지식이 포함돼 있다.

- 얼마간의 연구 끝에 나는 꽤 많은 것을 배울 수 있었다(그럼에도 학습 방향을 잡기가 힘들었는데, 이건 마치 웹을 무작위로 돌아다니는 것과 흡사했다.)
- 하지만 더욱 난감했던 점은 이렇게 학습한 내용을 애플리케이션 코드와 설계에 어떠한 통찰력도 줄 수 없다는 점이었다.

> 모델링한 객체를 통해서 애플리케이션 코드와 설계에 통찰력을 줄 수 있어야 한다.

- 기술 분석가와 업무 전문가 간의 폭넓은 협업으로 도출된 모델은 그들 관점에서는 '옳은'것이었지만 구현 과정의 시행착오가 포함되지 않은 개념에 근거한 객체라서 개발자는 자신의 설계에 그것을 활용할 수 없을거라 결론지었다.
- 그래서 개발자는 즉흥적으로 설계를 만들어 나갔다.
- 개발자들이 만든 설계에서도 데이터 저장소에 같은 클래스명과 속서명을 일부 사용하긴 했지만 그 설계는 기존 모델 또는 어떠한 모델에도 근거하지 않은 것이었다.
- 프로젝트에 도메인 모델은 있었지만 동작하는 소프트웨어를 개발하는 데 직접적으로 도움을 주지 않는 한 종이에 기록된 모델이 무슨 의미가 있겠는가?

> 도메인 모델은 실제로 동작하는 소프트에어를 개발할때에 직접적인 도움을 주어야한다. 

## 모델 주도 설계

- 코드와 그것의 기반이 되는 모델이 긴밀하게 연결되면 코드에 의미가 부여되고 모델과 코드가 서로 대응하게 된다.
- 도메인 모델은 전혀 없고 기능만 차례로 구현하기 위해 코드를 작성하는 프로젝트에서는 앞서 두 장에 걸쳐 논의한 지식 탐구와 의사소통의 이점을 거의 살리지 못한다.
- 도메인이 복잡하다면 이러한 프로젝틑 난관에 처할 것이다.
- 모델에 온갖 정성을 아낌없이 쏟아붓더라도 설계가 올바르다는 것을 보자할 수는 없는데, 이는 모델과 코드가 엄연히 다른 것이기 때문이다.

- 분석 모델은 설계와 뚜렷이 구분되고 보통 다른 사람이 만든다.
- 이를 분석모데이라고 하는 이유는 분석 모델이 소프트웨어 시스템에서 수행할 역할에 대해서는 고려하지 않은 채 업무 도메인의 개념만을 체계화하고자 해당 업무 도메인을 분석한 결과물이기 때문이다.

- 분석모델은 설계상의 쟁점들을 염두에 두고 만들어진 것이 아니라서 모델과 설계의 연결을 분석 모델로 진행한다는 것은 매우 비현실적일 가능성이 높다.

> 모델을 설계할 때는 도메인에 내포 된 쟁점들을 도출해내는 과정이 필요하다. 그렇지 않으면 실제 구현할 때 현실과 괴리가 생기게 된다.

- 순수하게 이론에만 치우친 분석 모델은 심지어 도메인의 이해라는 가장 주된 목표에 미치지도 못하는데,
- 중요한 발견은 언제나 설계/구현을 위해 노력하는 가운데 나타나기 때문이다.
- 매우 특이하고 미처 예상치 못한 문제는 눌 일어나게 마련이다.
- 선행 모델은 중요한 주제는 간과하는 반면 그다지 관련 없는 주제는 깊이 있게 다룰 것이다.
- 결과적으로 순수하게 이론에만 치우친 분석 모델은 코딩이 시작되자마자 폐기되고 대부분의 문제를 다시 검토해야 한다.

> 이론에만 치우친 설계는 결국 코딩이 시작되면 폐기되기 쉽고 대부분의 문제를 다시 검토해야한다.

- 설계 혹은 설계의 주된 부분이 도메인 모델과 대응하지 않는다면 그 모델은 그다지 가치가 없으며 소프트웨어의 정확함도 의심스러워진다.
- 모델이 구현에 대해 비현실적으로 보인다면 새로운 모델을 찾아내야만 한다. 모델이 도메인이 핵심 개념을 충실하게 표현하지 않을 때도 새로운 모델을 찾아내야만 한다.
- 그래야만 모델링과 설계 프로세스가 단 하나의 반복 고려를 형성할 수 있다.
- 이를 위해서는 많은 고민이 필요하고 보통 수차례에 걸친 반복주기와 상당한 양의 리팩터링이 따르지만, 그 결과 관련성 있는 모델이 만들어진다.

> 설계 혹은 설계의 주된 부분과 모델은 대응 되어야 한다. 그러기 위해서는 많은 고민이 필요하고 반복주기와 리팩터링을 통해 관련성 있는 모델이 만들어진다.

- 소프트웨어 시스템의 일부를 설계할 때는 도메인 모델을 있는 그대로 반영해서 설계와 모델의 대응을 분명하게 하라.
- 또한 모델을 재검토해서 더욱 자연스럽게 소프트웨어로 구현될 수 있게 수정하라.
- 도메인에 관한 더욱 심층적인 통찰력을 반영하려 할 때도 마찬가지다.
- 이렇듯 견고한 UBIQUITOUS LANGUAGE를 지원하는 것과 더불어 분석과 설계의 두 가지 측면을 충분히 만족하는 단 하나의 모델을 만들어내야 한다.
- 시스템의 특정 부분에는 코드에서 요구사항 분석에 이르기까지의 개발 노력의 모든 측면에 오로지 하나의 모델만이 적용돼야 한다.

## 모델링 패러다임과 도구 지원

- 모델과 설계 간의 밀접한 대응을 가능하게 하려면 모델의 개념에 직접적으로 대응되는 것을 만들어낼 수 있는 소프트웨어 도구가 뒷받침되는 모델링 패러다임 내에서 업무를 하는 것이 필수적이다.
- 프로그래메에게 객체는 실제로 메모리에 존재하고 다른 객체와 연관관계를 맺으며 여러 크래스로 조직되고 메시지 전달로 이용 가능한 행위를 제공하는 것을 의미한다.
- 복잡한 자료형은 단순히 조직화된 데이터일 뿐 도메인의 활동적인 측면을 담지는 못한다.

