# 테스팅 패턴

## 자식테스트

* 지나치게 큰 테스트 케이스를 어떻게 돌아가도록 할 수 있을까?
* 원래 테스트 케이스의 꺠지는 부분에 해당하는 작은 테스트 케이스를 작성하고 그 작은 테스트 케이스가 실행되도록 하라.
* 그 후에 다시 원래의 큰 테스트 케이스를 추가하라.
* 테스트를 만들어놓고 보니 막상 이걸 통과시켜려면 몇 가지를 한번에 수정해야만 하는 때에 이런 위기의 순간이 생기는데, 단 10분간만 빨간색이 지속되어도 겁이 난다.
* 나는 큰 테스트를 작성하고 나면 우선 교훈을 찾기 위해 노력한다.
* 왜 테스트가 그렇게 컸을까?
* 어떤 다른 방식을 취했더라면 좀 더 작게 만들수 있었을까?
* 지금 내 느낌은 어떤가?

## 모의 객체

* 비용이 많이 들거나 복잡한 리소스에 의존하는 객체를 테스트하려면 어떻게 해야 할까? 상수를 반환하게끔 만든 속임수 버전의 리소스를 만들면 된다.
* 고전적인 예는 데이터베이스다. 데이터베이스는 시작 시간이 오래 걸리고, 깨끗한 상태로 유지하기가 어렵다. 그리고 만약 데이터베이스가 원격 서버에 있다면 이로 인해 테스트 성공 여부가 네트워크 상의 물리적 위치에 영향을 받게 된다. 또한 데이터베이스는 개발 중 많은 오류의 원인이 된다.
* 해법은 대부분의 경우에 진짜 데이터베이스를 사용하지 않는 것이다.
* 대다수의 테스트는, 마치 데이터베이스인 것처럼 행동하지만 실제로는 메모리에만 존재하는 객체를 통해 작성될 수 있다.

## 셀프 션트 패턴

* 셀프 션트 패턴은 테스트 케이스가